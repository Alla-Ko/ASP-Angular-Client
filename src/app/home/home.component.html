<!-- <div class="container mt-5">
  <div class="card p-4">
    <h3 class="text-center">{{ isEditMode ? 'Редагувати продукт' : 'Додати новий продукт' }}</h3>
    <form #productForm="ngForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="productName" class="form-label">Назва продукту:</label>
        <input
          id="productName"
          type="text"
          class="form-control"
          [(ngModel)]="product.name"
          name="name"
          required
        />
      </div>
      <div class="mb-3">
        <label for="productPrice" class="form-label">Ціна продукту:</label>
        <input
          id="productPrice"
          type="number"
          class="form-control"
          [(ngModel)]="product.price"
          name="price"
          required
        />
      </div>
      <div class="mb-3">
        <label for="productDescription" class="form-label">Опис продукту:</label>
        <textarea
          id="productDescription"
          class="form-control"
          [(ngModel)]="product.description"
          name="description"
          required
        ></textarea>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-primary">
          {{ isEditMode ? 'Зберегти' : 'Додати' }}
        </button>
        <button
          *ngIf="isEditMode"
          type="button"
          class="btn btn-secondary"
          (click)="cancelEdit()"
        >
          Скасувати
        </button>
      </div>
    </form>
  </div>

  <hr class="my-4" />

  <h3 class="text-center">Список продуктів</h3>
  <ul class="list-group">
    <li
      *ngFor="let product of products$| async"
      class="list-group-item d-flex justify-content-between align-items-start"
    >
      <div>
        <div class="fw-bold">{{ product.name }}</div>
        <div>{{ product.price }} грн</div>
        <div class="text-muted">{{ product.description }}</div>
      </div>
      <div>
        <button
          class="btn btn-sm btn-outline-warning me-2"
          (click)="editProduct(product)"
        >
          Редагувати
        </button>
        <button
          class="btn btn-sm btn-outline-danger"
          (click)="deleteProduct(product.id)"
        >
          Видалити
        </button>
      </div>
    </li>
  </ul>
</div> -->

<!-- #2 -->
<div class="container mt-5">
  <!-- Кнопка "Вийти" -->
  <div class="d-flex justify-content-end mb-3">
    <button class="btn btn-outline-danger" (click)="logout()">Вийти</button>
  </div>

  <!-- Якщо користувач є адміністратором -->
  <div *ngIf="isAdmin" class="card p-4">
    <h3 class="text-center">
      {{ isEditMode ? "Редагувати продукт" : "Додати новий продукт" }}
    </h3>

    <!-- Форма для додавання/редагування продукту -->
    <form #productForm="ngForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="productName" class="form-label">Назва продукту:</label>
        <input
          id="productName"
          type="text"
          class="form-control"
          [(ngModel)]="product.name"
          name="name"
          required
        />
      </div>
      <div class="mb-3">
        <label for="productPrice" class="form-label">Ціна продукту:</label>
        <input
          id="productPrice"
          type="number"
          class="form-control"
          [(ngModel)]="product.price"
          name="price"
          required
        />
      </div>
      <div class="mb-3">
        <label for="productDescription" class="form-label"
          >Опис продукту:</label
        >
        <textarea
          id="productDescription"
          class="form-control"
          [(ngModel)]="product.description"
          name="description"
          required
        ></textarea>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-primary">
          {{ isEditMode ? "Зберегти" : "Додати" }}
        </button>
        <button
          *ngIf="isEditMode"
          type="button"
          class="btn btn-secondary"
          (click)="cancelEdit()"
        >
          Скасувати
        </button>
      </div>
    </form>
  </div>

  <hr class="my-4" />

  <!-- Кнопка "Перейти до кошика" -->
  <div class="d-flex justify-content-end mb-3">
    <button class="btn btn-outline-primary" (click)="goToCart()">
      Перейти до кошика ({{ cartItemCount$ | async }})
    </button>
  </div>

  <h3 class="text-center">Список продуктів</h3>
  <ul class="list-group">
    <li
      *ngFor="let product of products$ | async"
      class="list-group-item d-flex justify-content-between align-items-start"
    >
      <div>
        <div class="fw-bold">{{ product.name }}</div>
        <div>{{ product.price }} грн</div>
        <div class="text-muted">{{ product.description }}</div>
      </div>
      <div>
        <!-- Кнопки для адміністраторів -->
        <button
          *ngIf="isAdmin"
          class="btn btn-sm btn-outline-warning me-2"
          (click)="editProduct(product)"
        >
          Редагувати
        </button>
        <button
          *ngIf="isAdmin"
          class="btn btn-sm btn-outline-danger me-2"
          (click)="deleteProduct(product.id)"
        >
          Видалити
        </button>
        <!-- Кнопка додавання в кошик для звичайних користувачів -->
        <button
          class="btn btn-sm btn-outline-success me-2"
          (click)="addToCart(product)"
        >
          В кошик
        </button>
      </div>
    </li>
  </ul>
</div>
